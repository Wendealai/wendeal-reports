# Context7最佳实践：Netlify + Neon数据库环境变量配置
# 复制此文件为 .env.local 并填入实际值

# ===========================================
# 数据库配置 (Database Configuration) - Neon PostgreSQL
# ===========================================
# Context7推荐：Neon数据库连接（从Netlify获取）
# 格式：postgresql://username:password@host/database?sslmode=require
DATABASE_URL="postgresql://username:password@ep-xxx-xxx.region.aws.neon.tech/database?sslmode=require"

# Context7最佳实践：直接连接用于迁移（无连接池）
# 格式：postgresql://username:password@host/database（去掉-pooler）
DIRECT_URL="postgresql://username:password@ep-xxx-xxx.region.aws.neon.tech/database"

# 本地开发时的备用SQLite（可选）
# DATABASE_URL="file:./prisma/dev.db?connection_limit=1&pool_timeout=10"

# ===========================================
# 认证配置 (Authentication Configuration)
# ===========================================
# JWT密钥 - 生成命令: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="your-secure-jwt-secret-here-please-change-this-32-chars-min"

# NextAuth配置
NEXTAUTH_SECRET="your-nextauth-secret-here-32-chars-min"
# 本地开发
NEXTAUTH_URL="http://localhost:3000"
# Netlify生产环境（自动检测）
# NEXTAUTH_URL="https://your-site-name.netlify.app"

# ===========================================
# 应用配置 (Application Configuration)
# ===========================================
# 默认用户ID（简化单用户系统）
DEFAULT_USER_ID="cmbusc9x00000x2w0fqyu591k"

# 环境类型
NODE_ENV="development"

# ===========================================
# Netlify特定配置 (Netlify Specific)
# ===========================================
# 这些变量在Netlify环境中自动设置，无需手动配置
# NETLIFY="true"
# NETLIFY_URL="your-deployment-url"
# NETLIFY_SITE_URL="your-main-url"

# ===========================================
# Context7推荐的密钥生成命令
# ===========================================
# 运行以下命令生成安全的密钥：
# 
# JWT_SECRET:
# node -e "console.log('JWT_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
# 
# NEXTAUTH_SECRET:
# node -e "console.log('NEXTAUTH_SECRET=' + require('crypto').randomBytes(32).toString('hex'))"
#
# 或使用在线工具：https://generate-secret.vercel.app/32

# ===========================================
# Context7 Neon数据库配置说明
# ===========================================
# 1. 在Netlify Dashboard中设置以下环境变量：
#    - DATABASE_URL: 从Neon获取的连接字符串（带-pooler的连接池版本）
#    - DIRECT_URL: 从Neon获取的直接连接字符串（不带-pooler）
#
# 2. Neon连接字符串格式：
#    - 连接池版本: postgresql://user:pass@ep-xxx-pooler.region.aws.neon.tech/db?sslmode=require
#    - 直接连接版本: postgresql://user:pass@ep-xxx.region.aws.neon.tech/db?sslmode=require
#
# 3. 确保在Neon中已创建数据库并获得正确的凭据

# 其他配置
UPLOAD_MAX_SIZE=10485760 